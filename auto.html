<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index, follow">
    <meta http-equiv="X-UA-Compatible" content="IE-edge, chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="robots" content="index, follow">
    <meta name="autor" content="Alex García">
    <meta name="keywords" content="compare, insurance, cash, house, car, program, life, fast, access, now insurance, get insurance, free">
    <meta name="description" content="Top auto insurance brands.">
    <link rel="canonical" href="https://auto.ins-compare.com.com">
    <link rel="icon" type="image/png" href="favicon.png">
    <title>Auto.Ins-Compare.com</title>
    <meta property="og:url" content="https://auto.ins-compare.com.com">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Auto-Ins-Compare.com">
    <meta property="og:title" content="Auto-Ins-Compare.com">
    <meta property="og:description" content="Top auto insurance brands.">
    <meta property="og:image" content="thumbnail.png">
    <link rel="stylesheet" type="text/css" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" type="text/css" href="ins-compare.css">
</head>
<body>
    <nav>
        <span class="logo">
            <img src="img/logo.svg">
            Ins<br>Compare.com
        </span>
        <div class="links">
            <a>Top Companies</a>
        </div>
    </nav>
    <div class="overlay">
        <div class="form">
            <div class="pending">
                <span class="dot active">1</span>
                <span class="dot">2</span>
                <span class="dot">3</span>
                <span class="dot">4</span>
                <span class="dot">5</span>
            </div>
            <form>
                <div class="question">
                    <span class="question-name">Zip code</span>
                    <input id="zip" type="text" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" placeholder="Enter your zip code">
                    <input id="city" style="display: none;" type="text">
                    <input id="state" style="display: none;" type="text">
                    <input id="short" style="display: none;" type="text">
                    <span class="error">Wrong zip code, put it again</span>
                    <button id="continue">Continue</button>
                </div>
                <div class="question">
                    <span class="question-name">Are you currently insured?</span>
                    <select id="insured">
                        <option value="" disabled selected>Choose</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="question">
                    <span class="question-name">Any accidents in the last 3 years?</span>
                    <select id="accidents">
                        <option value="" disabled selected>Choose</option>
                        <option value="yes">Yes</option>
                        <option value="None">No</option>
                    </select>
                </div>
                <div class="question">
                    <span class="question-name">DUI convictions in the last 3 years?</span>
                    <select id="convictions">
                        <option value="" disabled selected>Choose</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="question">
                    <span class="question-name">Do you own your home?</span>
                    <select id="homeowner">
                        <option value="" disabled selected>Choose</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
            </form>
            <span class="helper">No contact information or SSN needed</span>
        </div>
    </div>
    <main>
        <header id="header">
            <div class="info">
                <span class="head">Top ranked <i>Auto</i> Insurance Companies.</span>
                <span class="head-sub">Receive a quote from top <i>auto</i> insurance brands and get a policy customized to your needs.</span>
                <span id="update" class="update"></span>
                <span class="disclaimer">
                    <span class="open">Advertiser Discloser<ion-icon name="document-text-outline"></ion-icon></span>
                    <spa class="text">Ins-Compare.com is a free online resource and we work hard to better the decision-making process of buying insurance online. To support this endeavor we may at times collect revenue from advertisers for qualified consumers who visit their site. Such compensation may impact the placement and order of our advertising partners on our page. We are not compensated for consumers who only view our content and work hard to provide a comprehensive list of quality insurance brands. 
                    </spa>
                </span>
            </div>
        </header>
        <section class="bg">
            <iframe id="results" src="https://agarria.github.io/insurance/auto.results"></iframe>
        </section>
        <footer>
            <span class="logo">
                <img src="img/logo.svg">
                Ins<br>Compare.com
            </span>
            <div class="links">
                <a href="#header">get started</a>
                <a>privacy policy</a>
                <a>terms & conditions</a>
            </div>
            <span class="copy">2021 © Ins-Compare.com All Rights Reserved</span>
        </footer>
    </main>
</body>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
<script type="text/javascript" src="https://unpkg.com/ionicons@5.4.0/dist/ionicons.js"></script>
<script type="text/javascript" src="https://cdn.myadoptimizer.com/maojsfiles/landingpagesjs/09070b21-dbb5-4a9f-823b-9eba588a2c91.js"></script>
<script type="text/javascript">
    function is_int(value) {
        if ((parseFloat(value) == parseInt(value)) && !isNaN(value)) {
            return true;
        } else {
            return false;
        }
    }

    var properties = {
        zipcode: "",
        state: "",
        insured: "",
        accidents: "",
        convictions: "",
        homeowner: ""
    }

    $( document ).ready(function() {
        $(".open").click(function(){
            $(".text").toggleClass("show");
        });

        $("#zip").keyup(function() {

            var el = $(this);

            if ((el.val().length == 5) && (is_int(el.val()))) {

                $.ajax({
                    url: "https://zip.getziptastic.com/v2/US/" + el.val(),
                    cache: false,
                    dataType: "json",
                    type: "GET",
                    success: function(result, success) {
                        $(".error").css('display','none');
                        $("#city").val(result.city);
                        $("#state").val(result.state);
                        $("#short").val(result.state_short);
                        $("#continue").css('display','block');
                    },
                    error: function(result, success) {
                        $(".error").css('display','block');
                        $("#continue").css('display','none');

                    }
                });

            } else if (el.val().length < 5) {

                $(".error").css('display','block');
                $("#continue").css('display','none');

                return false;

            };
        });

        $("#continue").click(function(){

            if ( $("#zip").val().length === 0 ) {
                alert("Please enter your zip code.");
            } else {
                $(".question:nth-child(1)").css('display','none');
                $(".question:nth-child(2)").css('display','block');
                $(".dot:nth-child(1)").removeClass("active");
                $(".dot:nth-child(2)").addClass("active");

                return false;
            }

        });

        $('#insured').change(function(){
            if($(this).val() == 'yes'){
                $(".question:nth-child(2)").css('display','none');
                $(".question:nth-child(3)").css('display','block');
                $(".dot:nth-child(2)").removeClass("active");
                $(".dot:nth-child(3)").addClass("active");
            } else {

                return false;
            }
        });

        $('#accidents').change(function(){
            if($(this).val() == 'None'){
                $(".question:nth-child(3)").css('display','none');
                $(".question:nth-child(4)").css('display','block');
                $(".dot:nth-child(3)").removeClass("active");
                $(".dot:nth-child(4)").addClass("active");
            } else {

                return false;
            }
        });

        $('#convictions').change(function(){
            if($(this).val() == 'no'){
                $(".question:nth-child(4)").css('display','none');
                $(".question:nth-child(5)").css('display','block');
                $(".dot:nth-child(4)").removeClass("active");
                $(".dot:nth-child(5)").addClass("active");
            } else {

                return false;
            }
        });

        $('#homeowner').change(function(){
            if($(this).val() == 'yes'){

                $(".overlay").css('display','none');

                properties.zipcode = $("#zip").val();
                properties.state = $("#short").val();
                properties.insured = $("#insured").val();
                properties.accidents = $("#accidents").val();
                properties.convictions = $("#convictions").val();
                properties.homeowner = $("#homeowner").val();

                console.log("properties: " + JSON.stringify(properties));

                frame.src = frame.src + "?ZipCode="+properties.zipcode+"&State="+properties.state+"&InsuredStatus="+properties.insured+"&Accidents="+properties.accidents+"&DUI="+properties.convictions+"&HomeOwner="+properties.homeowner;            

            } else {

                return false;
            }
        });
    });

    var frame = document.getElementById("results");
    //console.log(frame);
    frame.onload = function(){

    }

    function reSizeIframe(){
        frame.style.height = frame.contentWindow.document.getElementById("target").offsetHeight + "px";
    }

    var date = new Date();
    date.setDate(date.getDate()-13);

    document.getElementById('update').innerHTML="Last Updated: "+date.toLocaleString();
</script>
</html>